<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Anime Tracker</title>
  <link rel="stylesheet" href="popup.css">
  <!-- Opcional: Iconos de Material Symbols -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>

  <div class="app-container">
    <!-- Barra de búsqueda superior -->
    <div class="search-bar-container">
      <div class="search-input-wrapper">
        <span class="material-symbols-outlined search-icon">search</span>
        <input type="text" id="anime_buscar" class="search-input" placeholder="Buscar anime...">
      </div>
      <button class="settings-btn">
        <span class="material-symbols-outlined">settings</span>
      </button>
    </div>

    <!-- Portada -->
    <div class="cover-container" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuBW9ev7Xh-YIzoclqtDf7xJCcxdu4trqD8Gat_vH90P_1_1P0KZnQOtGZ6bXNqcsK_XgAYmy699OYDFd2Y-XrIhAXiKQB2biOaTuhPp46fHh_E6KmIXhHzhUyTFkfbAAs9k2ed706PXNUHe5G3blApTKfPL2MG3p0S8hg7wWST4Mp6HS-d8ujLKXJZBhTl3uU7VDf1c9BLTuxbAGQzknq8Iu-wlnwszyMsYo_bOdfnJ29qLJwnub8kLPTTN5LR-XFmXkPybEQb_ZTA");'>
    </div>

    <!-- Información principal -->
    <div class="info-section">
      <div class="title-id-container">
        <h1 id="anime_nombre" class="anime-title">Attack on Titan</h1>
        <div class="id-container">
          <p class="anime-id">ID: attack-on-titan</p>
          <span class="material-symbols-outlined copy-icon">content_copy</span>
        </div>
      </div>

      <!-- Favorito -->
      <div class="favorite-container">
        <span class="fav-label">Favorite</span>
        <label class="switch">
          <input type="checkbox" id="favorito_checkbox" checked>
          <span class="slider"></span>
        </label>
      </div>
    </div>

    <!-- Temporada/Episodio y Botón -->
    <div class="progress-section">
      <div class="season-episode-controls">
        <div class="control-group">
          <p class="control-label">S</p>
          <div class="number-control">
            <button class="number-btn">-</button>
            <input type="number" id="temporada_actual" class="number-input" value="1" min="1">
            <button class="number-btn">+</button>
          </div>
        </div>
        <div class="control-group">
          <p class="control-label">E</p>
          <div class="number-control">
            <button class="number-btn">-</button>
            <input type="number" id="episodio_actual" class="number-input" value="5" min="1">
            <button class="number-btn">+</button>
          </div>
        </div>
      </div>
      <button id="cap_visto" class="watched-btn">Episode Watched</button>
    </div>

    <!-- Rating y Seguimiento -->
    <div class="rating-status-section">
      <div class="rating-container">
        <p class="control-label">Rating</p>
        <div class="rating-controls">
          <span class="material-symbols-outlined rating-star">star</span>
          <span class="rating-value">8</span>
          <button class="rating-btn">-</button>
          <button class="rating-btn">+</button>
        </div>
      </div>
      <div class="status-select-container">
        <select id="lista_serie_viendo" class="custom-select">
          <option value="ver">Ver</option>
          <option value="viendo" selected>Viendo</option>
          <option value="visto">Visto</option>
          <option value="abandonado">Abandonado</option>
        </select>
      </div>
    </div>

    <!-- Audio y Subs -->
    <div class="audio-subs-section">
      <p class="section-label">Audio & Subtitles</p>
      <div class="audio-subs-select-container">
        <select id="doblaje_sub" class="custom-select">
          <option value="sub">Sub</option>
          <option value="dub_en" selected>Dub (En)</option>
          <option value="dub_es">Dub (Es)</option>
          <option value="dub_jp">Dub (Jp)</option>
        </select>
      </div>
    </div>

    <!-- Estreno y Emisión -->
    <div class="release-schedule-grid">
      <div class="grid-item">
        <p class="grid-label">Estreno</p>
        <input type="text" id="estreno_input" class="grid-input" value="Fall 2023">
      </div>
      <div class="grid-item">
        <p class="grid-label">Emisión</p>
        <input type="text" id="emision_input" class="grid-input" value="Sundays">
      </div>
    </div>

    <!-- Día de estreno y Estado de emisión -->
    <div class="day-status-section">
      <div class="day-select-container">
        <p class="section-label">Día de estreno</p>
        <select id="tags_dia" class="custom-select">
          <option value="lunes">Lunes</option>
          <option value="martes">Martes</option>
          <option value="miercoles">Miércoles</option>
          <option value="jueves">Jueves</option>
          <option value="viernes">Viernes</option>
          <option value="sabado">Sábado</option>
          <option value="domingo" selected>Domingo</option>
        </select>
      </div>
      <div class="emission-status-container">
        <p class="section-label">Estado de Emisión</p>
        <select id="lista_anime_estado" class="custom-select">
          <option value="finalizado">Finished Airing</option>
          <option value="emisión">Currently Airing</option>
          <option value="desconocido" selected>Not Yet Aired</option>
        </select>
      </div>
    </div>

    <!-- Géneros -->
    <div class="genres-section">
      <div class="section-header">
        <p class="section-label">Genres</p>
        <button id="editar_generos_btn" class="edit-btn">Edit Genres</button> <!-- Botón para editar -->
      </div>
      <p id="generos_display" class="genres-list">Action, Dark Fantasy, Post-Apocalyptic</p>
      <input type="text" id="generos_input" class="genres-input" value="Action, Dark Fantasy, Post-Apocalyptic" style="display: none;"> <!-- Input oculto -->
    </div>

    <!-- Relacionado con (sin botón "Añadir") -->
    <div class="related-section">
      <p class="section-label">Relacionado con</p> <!-- Etiqueta sin botón de añadir -->
      <div class="related-controls">
        <input type="text" id="anime_relacionado" class="related-input" placeholder="Buscar anime relacionado">
        <select id="relacion_url" class="custom-select">
          <option value="secuela" selected>Secuela</option>
          <option value="precuela">Precuela</option>
          <option value="alternativa">Versión Alternativa</option>
          <option value="paralela">Historia Paralela</option>
        </select>
      </div>
    </div>

    <!-- Botón final -->
    <button id="guardar" class="save-btn">Save to Folders</button>

  </div>

  <script type="module" src="popup.js"></script>
  <script>
    // Script para editar géneros
    document.addEventListener('DOMContentLoaded', function() {
      const editBtn = document.getElementById('editar_generos_btn');
      const displayP = document.getElementById('generos_display');
      const inputField = document.getElementById('generos_input');

      let editing = false;

      editBtn.addEventListener('click', function() {
        if (editing) {
          // Guardar cambios
          displayP.textContent = inputField.value;
          inputField.style.display = 'none';
          displayP.style.display = 'block';
          editBtn.textContent = 'Edit Genres';
          editing = false;
        } else {
          // Editar
          inputField.value = displayP.textContent;
          displayP.style.display = 'none';
          inputField.style.display = 'block';
          editBtn.textContent = 'Save';
          editing = true;
        }
      });
    });
  </script>
</body>
</html>